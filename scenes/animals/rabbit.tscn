[gd_scene load_steps=15 format=3 uid="uid://c1mcav1iue7q1"]

[ext_resource type="PackedScene" uid="uid://xbu57lkb77xa" path="res://scenes/animals/animal.tscn" id="1_qivaq"]
[ext_resource type="Script" path="res://scripts/animals/rabbit.gd" id="2_gsjhq"]
[ext_resource type="AnimationLibrary" uid="uid://b3f0f0mr3b7ej" path="res://resources/axolotl_anims.res" id="3_p5wm4"]

[sub_resource type="Animation" id="Animation_a34yu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(16, -84, 71, -108, 141, -88, 183, -42, 191, 12, 165, 55, 172, 117, 161, 203, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -160, -27, -149, -63, -118, -61, -19, -63)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_alae6"]
_data = {
"RESET": SubResource("Animation_a34yu")
}

[sub_resource type="Animation" id="Animation_pf46y"]
resource_name = "RESET"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(16, -84, 71, -97, 131, -76, 155, -38, 162, 16, 143, 60, 169, 103, 169, 167, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -140, -11, -161, -48, -124, -43, -15, -54)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("FeedCollider2/FeedPolygon2:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:flip_h")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Sprite2D:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Sprite2D:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_ej87k"]
resource_name = "chewing"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [PackedVector2Array(16, -84, 71, -108, 141, -88, 183, -42, 191, 12, 165, 55, 172, 117, 161, 203, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -160, -27, -149, -63, -118, -61, -19, -63), PackedVector2Array(17, -60, 74, -101, 149, -51, 159, 12, 142, 56, 166, 104, 145, 206, 116, 250, 170, 305, 170, 305, -220, 227, -224, 58, 12, 34, -154, -27)]
}

[sub_resource type="Animation" id="Animation_e8qa5"]
resource_name = "chomp"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(16, -84, 71, -108, 141, -88, 183, -42, 191, 12, 165, 55, 172, 117, 161, 203, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -160, -27, -149, -63, -118, -61, -19, -63)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("FeedCollider2/FeedPolygon2:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.0333333),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_0u7rx"]
resource_name = "flee"
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"queue_free"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:flip_h")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-400, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sprite2D:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_q22ki"]
resource_name = "frightened"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(11, -57, 63, -62, 122, -50, 154, -7, 160, 28, 165, 55, 172, 117, 161, 203, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -166, 42, -175, 13, -48, -22)]
}

[sub_resource type="Animation" id="Animation_s5h4d"]
resource_name = "idle"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(16, -84, 71, -97, 131, -76, 155, -38, 162, 16, 143, 60, 169, 103, 169, 167, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -140, -11, -161, -48, -124, -43, -15, -54)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("FeedCollider2/FeedPolygon2:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_kd21b"]
resource_name = "open"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [2]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(43, -154, 122, -149, 196, -79, 95, -53, 77, -29, 95, 81, 169, 103, 169, 167, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -82, 20, -116, -2, -113, -25, -15, -54)]
}

[sub_resource type="Animation" id="Animation_6l71k"]
resource_name = "satisfied"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TouchCollider/TouchPolygon:polygon")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedVector2Array(16, -84, 71, -97, 131, -76, 155, -38, 162, 16, 143, 60, 169, 103, 169, 167, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -140, -11, -161, -48, -124, -43, -15, -54)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("FeedCollider2/FeedPolygon2:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_23fgu"]
_data = {
"RESET": SubResource("Animation_pf46y"),
"chewing": SubResource("Animation_ej87k"),
"chomp": SubResource("Animation_e8qa5"),
"flee": SubResource("Animation_0u7rx"),
"frightened": SubResource("Animation_q22ki"),
"idle": SubResource("Animation_s5h4d"),
"open": SubResource("Animation_kd21b"),
"satisfied": SubResource("Animation_6l71k")
}

[node name="Rabbit" instance=ExtResource("1_qivaq")]
script = ExtResource("2_gsjhq")

[node name="Animations" parent="." index="1"]
libraries = {
"": SubResource("AnimationLibrary_alae6"),
"axolotl_anims": ExtResource("3_p5wm4"),
"rabbit_anims": SubResource("AnimationLibrary_23fgu")
}
autoplay = "rabbit_anims/RESET"

[node name="Frightened" parent="StateMachine" index="0"]
animation_name = "rabbit_anims/frightened"

[node name="Idle" parent="StateMachine" index="1"]
animation_name = "rabbit_anims/idle"

[node name="Open" parent="StateMachine" index="2"]
animation_name = "rabbit_anims/open"

[node name="Chomp" parent="StateMachine" index="3"]
animation_name = "rabbit_anims/chomp"

[node name="Satisfied" parent="StateMachine" index="4"]
animation_name = "rabbit_anims/satisfied"

[node name="Flee" parent="StateMachine" index="5"]
animation_name = "rabbit_anims/flee"

[node name="TouchPolygon" parent="TouchCollider" index="0"]
polygon = PackedVector2Array(16, -84, 71, -108, 141, -88, 183, -42, 191, 12, 165, 55, 172, 117, 161, 203, 130, 244, 151, 286, 189, 296, 174, 320, 77, 326, 40, 278, -3, 296, 34, 310, -3, 328, -101, 317, -143, 282, -192, 244, -232, 221, -234, 186, -196, 165, -240, 92, -236, 41, -210, 39, -138, 43, -96, 59, 3, 32, -6, -5, -89, 8, -160, -27, -149, -63, -118, -61, -19, -63)

[node name="FeedCollider2" parent="." index="8"]
collision_mask = 3

[node name="FeedPolygon2" parent="FeedCollider2" index="0"]
position = Vector2(-10, -3)
